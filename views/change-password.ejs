<!DOCTYPE html>
<html lang="en">
<%- include('partials/_head.ejs') %>
<body>
<%- include('partials/_header.ejs') %>
<main role="main" class="container mt-4">
  <h2>Change Password</h2>
  <form action="/auth/change-password" method="POST" onsubmit="return validatePassword()">
    <div class="mb-3">
      <label for="oldPassword" class="form-label">Old Password</label>
      <input type="password" class="form-control" id="oldPassword" name="oldPassword" required>
    </div>
    <div class="mb-3">
      <label for="newPassword" class="form-label">New Password</label>
      <input type="password" class="form-control" id="newPassword" name="newPassword" required>
    </div>
    <div class="mb-3">
      <label for="confirmNewPassword" class="form-label">Confirm New Password</label>
      <input type="password" class="form-control" id="confirmNewPassword" required>
    </div>
    <button type="submit" class="btn btn-primary">Change Password</button>
  </form>
</main>
<script>
  function validatePassword() {
    const newPassword = document.getElementById('newPassword').value;
    const confirmNewPassword = document.getElementById('confirmNewPassword').value;
    if (newPassword !== confirmNewPassword) {
      alert('New passwords do not match.');
      return false;
    }
    if (newPassword.length < 8) {
      alert('Password must be at least 8 characters long.');
      return false;
    }
    return true;
  }
</script>
<%- include('partials/_footer.ejs') %>
</body>
</html>